<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–°–æ–±–µ—Ä–∏ —Å–≤–æ–π –¥–æ–º</title>
  <style>
    body {
      font-family: sans-serif;
      padding: 20px;
      background: #f4f4f4;
    }
    .container {
      background: #fff;
      padding: 20px;
      border-radius: 10px;
      max-width: 500px;
      margin: auto;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    select, input, textarea, button {
      width: 100%;
      margin: 10px 0;
      padding: 10px;
      border-radius: 6px;
      border: 1px solid #ccc;
    }
    button {
      background: #2a9d8f;
      color: white;
      font-weight: bold;
      cursor: pointer;
      border: none;
    }
    h2 {
      text-align: center;
    }
  </style>
</head>
<body>
  <div class="container">
    <h2>–°–æ–±–µ—Ä–∏ —Å–≤–æ–π –¥–æ–º</h2>
    <form id="houseForm">
      <label>–¢–∏–ø –¥–æ–º–∞:</label>
      <select name="style">
  <option value="frame">–ö–∞—Ä–∫–∞—Å–Ω—ã–π</option>
  <option value="modular">–ú–æ–¥—É–ª—å–Ω—ã–π</option>
  <option value="barndominium">–ë–∞—Ä–Ω—Ö–∞—É—Å</option>
  <option value="aframe">–ê-—Ñ—Ä–µ–π–º</option>
</select>

      <label>–≠—Ç–∞–∂–Ω–æ—Å—Ç—å:</label>
      <select name="floors">
        <option value="1">1 —ç—Ç–∞–∂</option>
        <option value="1.5">1.5 —ç—Ç–∞–∂–∞</option>
        <option value="2">2 —ç—Ç–∞–∂–∞</option>
      </select>

      <label>–¢–∏–ø –∫—Ä—ã—à–∏:</label>
      <select name="roof">
        <option value="single">–û–¥–Ω–æ—Å–∫–∞—Ç–Ω–∞—è</option>
        <option value="double">–î–≤—É—Å–∫–∞—Ç–Ω–∞—è</option>
        <option value="flat">–ü–ª–æ—Å–∫–∞—è</option>
      </select>

      <label>–¶–≤–µ—Ç —Ñ–∞—Å–∞–¥–∞:</label>
      <input type="text" name="color" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: —Ç—ë–º–Ω–æ-—Å–µ—Ä—ã–π">

      <label>–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–∂–µ–ª–∞–Ω–∏—è:</label>
      <textarea name="notes" rows="4" placeholder="–ù–∞–ø–∏—à–∏—Ç–µ, —á—Ç–æ –≤–∞–∂–Ω–æ —É—á–µ—Å—Ç—å"></textarea>

      <label>–í–∞—à–µ –∏–º—è:</label>
      <input type="text" name="name" required>

      <label>–ö–æ–Ω—Ç–∞–∫—Ç (Telegram –∏–ª–∏ —Ç–µ–ª–µ—Ñ–æ–Ω):</label>
      <input type="text" name="contact" required>

      <button type="submit">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É</button>
    </form>
    <div id="thanks" style="display:none;text-align:center;">
      <h3>–°–ø–∞—Å–∏–±–æ! –ó–∞—è–≤–∫–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ ‚úÖ</h3>
    </div>
  </div>

<script>
  const form = document.getElementById('houseForm');

  form.addEventListener('submit', async (e) => {
    e.preventDefault();
    const data = new FormData(form);
    const obj = Object.fromEntries(data.entries());

    console.log("[FORM] ‚ñ∂Ô∏è –ù–∞—á–∞–ª–æ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ä–º—ã", new Date().toLocaleTimeString());
    console.log("[FORM] üì¶ –î–∞–Ω–Ω—ã–µ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏:", obj);

    try {
      const response = await fetch('https://formsubmit.co/ckrona3d@yandex.ru', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
          'Accept': 'application/json'
        },
        body: JSON.stringify(obj)
      });

      console.log("[FETCH] üåê –°—Ç–∞—Ç—É—Å –æ—Ç–≤–µ—Ç–∞:", response.status, response.statusText);

      const responseText = await response.text();
      console.log("[FETCH] üì© –¢–µ–ª–æ –æ—Ç–≤–µ—Ç–∞ —Å–µ—Ä–≤–µ—Ä–∞:\n", responseText);

      if (!response.ok) {
        throw new Error(`–û—à–∏–±–∫–∞ HTTP ${response.status}: ${response.statusText}`);
      }

      console.log("[FORM] ‚úÖ –£—Å–ø–µ—à–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞! –°–∫—Ä—ã–≤–∞–µ–º —Ñ–æ—Ä–º—É...");
      form.style.display = 'none';
      document.getElementById('thanks').style.display = 'block';
    } catch (error) {
      console.error("[FORM] ‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Ñ–æ—Ä–º—ã:", error);
      alert('–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å (F12 ‚Üí Console).');
    } finally {
      console.log("[FORM] üïì –ó–∞–≤–µ—Ä—à–µ–Ω–æ:", new Date().toLocaleTimeString());
    }
  });
</script>

</body>
</html>
